(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4323:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(5155),s=r(2115);function l(e){let{searchTerm:t,setSearchTerm:r,itemsPerPage:s,setItemsPerPage:l}=e;return(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-2",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("input",{type:"text",placeholder:"Поиск по всей таблице...",value:t,onChange:e=>r(e.target.value),className:"px-3 py-2 bg-gray-800 border border-gray-700 text-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 placeholder-gray-500"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Элементов на странице:"}),(0,a.jsxs)("select",{value:s,onChange:e=>l(Number(e.target.value)),className:"px-2 py-1 bg-gray-800 border border-gray-700 text-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600",children:[(0,a.jsx)("option",{value:5,children:"5"}),(0,a.jsx)("option",{value:10,children:"10"}),(0,a.jsx)("option",{value:25,children:"25"}),(0,a.jsx)("option",{value:50,children:"50"}),(0,a.jsx)("option",{value:100,children:"100"}),(0,a.jsx)("option",{value:1e5,children:"Все"})]})]})]})}function n(e){let{headers:t,sortConfig:r,onSort:s}=e;return(0,a.jsx)("tr",{children:t.map((e,t)=>(0,a.jsx)("th",{className:"px-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-700",onClick:()=>s(t),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:e}),(null==r?void 0:r.key)===t&&(0,a.jsx)("span",{className:"text-blue-400",children:"asc"===r.direction?"↑":"↓"})]})},t))})}function i(e){let{data:t,headers:r}=e;return(0,a.jsx)("tbody",{className:"bg-gray-900 divide-y divide-gray-800",children:t.length>0?t.map((e,t)=>(0,a.jsx)("tr",{className:"hover:bg-gray-800 transition duration-150",children:e.map((e,t)=>(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-300",children:e},t))},t)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:r.length,className:"px-6 py-4 text-center text-gray-500",children:"Нет данных для отображения"})})})}function c(e){let{currentPage:t,totalPages:r,itemsPerPage:s,totalItems:l,startIndex:n,onPageChange:i}=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4 text-gray-300",children:[(0,a.jsxs)("div",{className:"text-sm",children:["Показано ",l>0?n+1:0," - ",Math.min(n+s,l)," из ",l]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>i(Math.max(t-1,1)),disabled:1===t,className:"px-3 py-1 border rounded transition duration-150 ".concat(1===t?"bg-gray-800 text-gray-600 border-gray-700 cursor-not-allowed":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"),children:"Назад"}),(0,a.jsx)("span",{className:"px-3 py-1 border border-blue-700 rounded bg-blue-700 text-white",children:t}),(0,a.jsx)("button",{onClick:()=>{t<r&&i(t+1)},disabled:t>=r,className:"px-3 py-1 border rounded transition duration-150 ".concat(t>=r?"bg-gray-800 text-gray-600 border-gray-700 cursor-not-allowed":"bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700"),children:"Вперед"})]})]})}function o(e){let{data:t}=e,r=t[0]||[],{filteredData:o,paginatedData:d,searchTerm:u,setSearchTerm:x,sortConfig:g,setSortConfig:h,currentPage:m,setCurrentPage:p,itemsPerPage:b,setItemsPerPage:y,totalPages:j,startIndex:v}=function(e){let t=(0,s.useMemo)(()=>e.slice(1),[e]),[r,a]=(0,s.useState)([]),[l,n]=(0,s.useState)(""),[i,c]=(0,s.useState)(1),[o,d]=(0,s.useState)(10),[u,x]=(0,s.useState)(null),[g,h]=(0,s.useState)({});(0,s.useEffect)(()=>{a(t)},[t]),(0,s.useEffect)(()=>{let e=[...t];Object.entries(g).forEach(t=>{let[r,a]=t,s=parseInt(r);a&&(e=e.filter(e=>{var t;return null==(t=e[s])?void 0:t.toLowerCase().includes(a.toLowerCase())}))}),l&&(e=e.filter(e=>e.some(e=>null==e?void 0:e.toLowerCase().includes(l.toLowerCase())))),u&&e.sort((e,t)=>{let r=e[u.key]||"",a=t[u.key]||"",s=Number(r),l=Number(a);return isNaN(s)||isNaN(l)?"asc"===u.direction?r.localeCompare(a):a.localeCompare(r):"asc"===u.direction?s-l:l-s}),a(e),c(1)},[t,l,g,u]);let m=Math.max(1,Math.ceil(r.length/o)),p=(i-1)*o,b=r.slice(p,p+o);return{filteredData:r,paginatedData:b,searchTerm:l,setSearchTerm:n,filters:g,setFilters:h,sortConfig:u,setSortConfig:x,currentPage:i,setCurrentPage:c,itemsPerPage:o,setItemsPerPage:d,totalPages:m,startIndex:p}}(t);return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)(l,{searchTerm:u,setSearchTerm:x,itemsPerPage:b,setItemsPerPage:y}),(0,a.jsx)("div",{className:"overflow-x-auto border border-gray-700 rounded-lg shadow-lg bg-gray-900",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,a.jsx)("thead",{className:"bg-gray-800",children:(0,a.jsx)(n,{headers:r,sortConfig:g,onSort:e=>{g&&g.key===e?h("asc"===g.direction?{key:e,direction:"desc"}:{key:e,direction:"asc"}):h({key:e,direction:"asc"})}})}),(0,a.jsx)(i,{data:d,headers:r})]})}),o.length>0&&(0,a.jsx)(c,{currentPage:m,totalPages:j,itemsPerPage:b,totalItems:o.length,startIndex:v,onPageChange:p})]})}function d(){let[e,t]=(0,s.useState)([]),[r,l]=(0,s.useState)("");return(0,a.jsxs)("div",{className:"p-4 mx-auto",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"CSV Анализатор"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("input",{type:"file",accept:".csv",onChange:e=>{var r;let a=null==(r=e.target.files)?void 0:r[0];if(!a)return;l(a.name);let s=new FileReader;s.onload=e=>{var r;t((null==(r=e.target)?void 0:r.result).split("\n").map(e=>e.split(",")))},s.readAsText(a)},className:"hidden",id:"csvFileInput"}),(0,a.jsx)("label",{htmlFor:"csvFileInput",className:"px-4 py-2 bg-blue-500 text-white rounded cursor-pointer hover:bg-blue-600",children:"Выбрать CSV файл"}),r&&(0,a.jsxs)("p",{className:"mt-2",children:["Выбран файл: ",r]})]}),e.length>0&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(o,{data:e})})]})}},9019:(e,t,r)=>{Promise.resolve().then(r.bind(r,4323))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(9019)),_N_E=e.O()}]);